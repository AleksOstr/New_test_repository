# Что такое Git?

**Git** - это одна из реализаций распределённых систем контроля версий, имеющая как и локальные, так и удалённые репозитории. Является самой популярной реализацией систем контроля версий в мире.

# Подготовка репозитория

Обычно вы получаете репозиторий Git одним из двух способов:

1. Вы можете взять локальный каталог, который в настоящее время не находится под версионным контролем, и превратить его в репозиторий Git, либо

2. Вы можете клонировать существующий репозиторий Git из любого места.

В обоих случаях вы получите готовый к работе Git репозиторий на вашем компьютере.
Создание репозитория в существующем каталоге

Если у вас уже есть проект в каталоге, который не находится под версионным контролем Git, то для начала нужно перейти в него. Если вы не делали этого раньше, то для разных операционных систем это выглядит по-разному:

для Linux:

    $ cd /home/user/my_project

для macOS:

    $ cd /Users/user/my_project

для Windows:

    $ cd C:/Users/user/my_project

а затем выполните команду:

    $ git init

Эта команда создаёт в текущем каталоге новый подкаталог с именем .git, содержащий все необходимые файлы репозитория — структуру Git репозитория. На этом этапе ваш проект ещё не находится под версионным контролем. Подробное описание файлов, содержащихся в только что созданном вами каталоге .git, приведено в главе Git изнутри

Если вы хотите добавить под версионный контроль существующие файлы (в отличие от пустого каталога), вам стоит добавить их в индекс и осуществить первый коммит изменений. Добиться этого вы сможете запустив команду git add несколько раз, указав индексируемые файлы, а затем выполнив git commit:

    $ git add *.c
    $ git add LICENSE
    $ git commit -m 'Initial project version'

Мы разберем, что делают эти команды чуть позже. Теперь у вас есть Git-репозиторий с отслеживаемыми файлами и начальным коммитом.

# Создание "Сохранений"

Для **добавления измений в коммит** используется команда *git add*. Чтобы использовать команду *git add* напишите 

    git add <имя файла>

Для того, чтобы создать **коммит** (сохранение) необходимо выполнить команду *git commit*. Выполняется она так: 

    git commit -m "<сообщение к коммиту> 
Все файлы для коммита должны быть ***ДОБАВЛЕНЫ*** и сообщение к коммиту писать ***ОБЯЗАТЕЛЬНО***.

# Переключение между сохранениями

Для переключения между сохранениями используйте команду

    git checkout commit

где commit - это хеш нужного коммита

# Журнал изменений

Чтобы посмотреть журнал изменений, используйте команду

    git log

# Ветки в Git

### **Создание ветки**

Для того, чтобы **создать ветку**, используется команда *git branch*. Делается это следующим образом в папке с репозиторием: 

    git branch <название новой ветки>

# Слияние веток и разрешение конфликтов

Слияние веток выполняется командой 
    
    git merge <branch>

Конфликт во время слияния может произойти в двух отдельных точках — при запуске и во время процесса слияния. Далее рассмотрим, как разрешать каждый из этих конфликтных сценариев.

## Git прерывает работу в самом начале слияния

Выполнение команды слияния прерывается в самом начале, если Git обнаруживает изменения в рабочем каталоге или разделе проиндексированных файлов текущего проекта. Git не может выполнить слияние, поскольку иначе эти ожидающие изменения будут перезаписаны новыми коммитами. Такое случается из-за конфликтов не с другими разработчиками, а с ожидающими локальными изменениями. Локальное состояние необходимо стабилизировать с помощью команд git stash, git checkout, git commit или git reset. Если команда слияния прерывается в самом начале, выдается следующее сообщение об ошибке:

    error: Entry '<fileName>' not uptodate. Cannot merge. (Changes in working directory)

## Git прерывает работу во время слияния

Сбой В ПРОЦЕССЕ слияния говорит о наличии конфликта между текущей локальной веткой и веткой, с которой выполняется слияние. Это свидетельствует о конфликте с кодом другого разработчика. Git сделает все возможное, чтобы объединить файлы, но оставит конфликтующие участки, чтобы вы разрешили их вручную. При сбое во время выполнения слияния выдается следующее сообщение об ошибке:

    error: Entry '<fileName>' would be overwritten by merge. Cannot merge. (Changes in staging area)

## Команды Git, с помощью которых можно разрешить конфликты слияния

### Общие инструменты

    git status

Команда status часто используется во время работы с Git и помогает идентифицировать конфликтующие во время слияния файлы.

    git log --merge

При передаче аргумента --merge для команды git log будет создан журнал со списком конфликтов коммитов между ветками, для которых выполняется слияние.

    git diff

Команда diff помогает найти различия между состояниями репозитория/файлов. Она полезна для выявления и предупреждения конфликтов слияния.
Инструменты для случаев, когда Git прерывает работу в самом начале слияния

    git checkout

Команда checkout может использоваться для отмены изменений в файлах или для изменения веток.

    git reset --mixed

Команда reset может использоваться для отмены изменений в рабочем каталоге или в разделе проиндексированных файлов.
Инструменты для случаев, когда конфликты Git возникают во время слияния

    git merge --abort

При выполнении команды git merge с опцией --abort процесс слияния будет прерван, а ветка вернется к состоянию, в котором она находилась до начала слияния.

    git reset

Команду git reset можно использовать для разрешения конфликтов, возникающих во время выполнения слияния, чтобы восстановить заведомо удовлетворительное состояние конфликтующих файлов.

# Удаление веток

Для **удаления ветки** ввести команду 
    
    git branch -d 'name branch'